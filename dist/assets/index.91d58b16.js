var j=Object.defineProperty;var f=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var F=(t,n,a)=>n in t?j(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,B=(t,n)=>{for(var a in n||(n={}))w.call(n,a)&&F(t,a,n[a]);if(f)for(var a of f(n))L.call(n,a)&&F(t,a,n[a]);return t};var b=(t,n)=>{var a={};for(var u in t)w.call(t,u)&&n.indexOf(u)<0&&(a[u]=t[u]);if(t!=null&&f)for(var u of f(t))n.indexOf(u)<0&&L.call(t,u)&&(a[u]=t[u]);return a};import{j as I,r as C,a as T,R as k,b as q}from"./vendor.93353617.js";const U=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))u(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function u(r){if(r.ep)return;r.ep=!0;const s=a(r);fetch(r.href,s)}};U();const e=I.exports.jsx,c=I.exports.jsxs,Z=I.exports.Fragment,H=()=>e("div",{className:"card-box",children:c("div",{className:"empty-card",children:[e("div",{className:"card-top"}),e("div",{className:"card-middle",children:e("div",{className:"card-middle__chip"})}),e("div",{className:"card-bottom",children:c("div",{className:"card-bottom__info",children:[e("span",{className:"card-text",children:"NAME"}),e("span",{className:"card-text",children:"MM / YY"})]})})]})}),K=({setRoute:t})=>e("div",{className:"card-box",onClick:()=>{t({route:"ADD"})},children:e("div",{className:"empty-card",children:"+"})}),X=({type:t,cardData:n})=>{const{cardName:a,cardNumber:u,expired:r,userName:s,alias:i}=n;return c("div",{className:"card-box",children:[c("div",{className:`${t}-card`,children:[e("div",{className:"card-top",children:e("span",{className:"card-text",children:a})}),e("div",{className:"card-middle",children:e("div",{className:"card-middle__chip"})}),c("div",{className:"card-bottom",children:[e("div",{className:"card-bottom__number",children:e("span",{className:"card-text",children:u})}),c("div",{className:"card-bottom__info",children:[e("span",{className:"card-text",children:s}),e("span",{className:"card-text",children:r})]})]})]}),i?e("span",{className:"card-nickname",children:i}):null]})},x=({type:t,cardData:n,setRoute:a})=>t==="new"&&a?e(K,{setRoute:a}):n?e(X,{type:t,cardData:n}):e(H,{}),o={CARD_NUMBER_SIZE:4,MAX_NAME_SIZE:30,MONTH_SIZE:2,YEAR_MIN:22,YEAR_MAX:99,YEAR_SIZE:2,CVC_SIZE:3,PASSWORD_SIZE:1},z=["badInput","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing"],W={cardNumber1:"0 - 9 \uC0AC\uC774\uC758 \uC22B\uC790 4\uAC1C\uB97C \uC785\uB825\uD558\uC138\uC694.",cardNumber2:"0 - 9 \uC0AC\uC774\uC758 \uC22B\uC790 4\uAC1C\uB97C \uC785\uB825\uD558\uC138\uC694.",cardNumber3:"0 - 9 \uC0AC\uC774\uC758 \uC22B\uC790 4\uAC1C\uB97C \uC785\uB825\uD558\uC138\uC694.",cardNumber4:"0 - 9 \uC0AC\uC774\uC758 \uC22B\uC790 4\uAC1C\uB97C \uC785\uB825\uD558\uC138\uC694.",expiredMonth:"01 - 12 \uC0AC\uC774\uC758 \uB450\uC790\uB9AC \uC22B\uC790\uB97C \uC785\uB825\uD558\uC138\uC694.",expiredYear:"22 \uC774\uC0C1 99 \uC774\uD558\uC758 \uB450\uC790\uB9AC \uC22B\uC790\uB97C \uC785\uB825\uD558\uC138\uC694.",cvc:"0 - 9 \uC0AC\uC774\uC758 \uC22B\uC790 3\uAC1C\uB97C \uC785\uB825\uD558\uC138\uC694.",pw1:"0 - 9 \uC0AC\uC774\uC758 \uC22B\uC790\uB97C \uC785\uB825\uD558\uC138\uC694.",pw2:"0 - 9 \uC0AC\uC774\uC758 \uC22B\uC790\uB97C \uC785\uB825\uD558\uC138\uC694."},G=t=>{const{validity:n,name:a}=t;return z.find(r=>n[r])&&W[a]||""},J=t=>{if([...t.values()].join("").length===0)return null;const{cardName:n,cardNumber1:a,cardNumber2:u,cardNumber3:r,cardNumber4:s,expiredMonth:i,expiredYear:D,userName:E,alias:v}=[...t].reduce((l,[g,A])=>(l[g]=A,l),{}),h=[];[a,u].forEach(l=>{l&&h.push(l)}),[r,s].forEach(l=>{l&&h.push(l.replace(/./g,"*"))});const N=[];return[i,D].forEach(l=>{l&&N.push(l)}),{cardName:n,cardNumber:h.join(" - "),expired:N.join(" / "),userName:E,alias:v}},Q=({children:t})=>{const[n,a]=C.exports.useState(null);return C.exports.useEffect(()=>{const u=document.getElementById("modalRoot");if(!!u)return a(u),u.classList.add("show"),()=>{u.classList.remove("show")}},[]),n?T.exports.createPortal(t,n):null},ee=["\uD074\uB9B0 \uCE74\uB4DC","\uC0BC\uC22D \uCE74\uB4DC","\uC2E0\uD5CC \uCE74\uB4DC","\uCFE1\uBBFC \uCE74\uB4DC","\uD55C\uB098 \uCE74\uB4DC","\uC6B8\uB9AC \uCE74\uB4DC","\uBE55\uC528 \uCE74\uB4DC","\uB18D\uD5D9 \uCE74\uB4DC"],te=({selectCard:t,closeModal:n})=>{const a=u=>()=>t(u);return c(Q,{children:[e("div",{className:"modal-dimmed",onClick:n}),c("div",{className:"modal",children:[e("input",{type:"text",autoFocus:!0,className:"hidden-input"}),e("div",{className:"flex-center flex-wrap",children:ee.map((u,r)=>c("div",{className:"modal-item-container",onClick:a(u),children:[e("div",{className:"modal-item-dot"}),e("span",{className:"modal-item-name",children:u})]},r))})]})]})},P=u=>{var r=u,{name:t,elRef:n}=r,a=b(r,["name","elRef"]);return e("input",B({name:t,ref:n,className:"input-basic",type:"text",required:!0,pattern:"^\\d{4}$",minLength:4,maxLength:4},a))},V=u=>{var r=u,{name:t,elRef:n}=r,a=b(r,["name","elRef"]);return e("input",B({name:t,ref:n,className:"input-basic",type:"password",inputMode:"numeric",minLength:o.CARD_NUMBER_SIZE,maxLength:o.CARD_NUMBER_SIZE,size:o.CARD_NUMBER_SIZE,required:!0,pattern:"^\\d{4}$"},a))},ue=({elRef:t})=>e("input",{id:"cvc",name:"cvc",ref:t,className:"input-basic w-25",required:!0,minLength:o.CVC_SIZE,maxLength:o.CVC_SIZE,type:"password",pattern:"^\\d{3}$"}),ae=({elRef:t})=>e("input",{id:"expiredMonth",name:"expiredMonth",ref:t,className:"input-basic",type:"text",required:!0,placeholder:"MM",pattern:"^(0[1-9]|1[012])$",minLength:o.MONTH_SIZE,maxLength:o.MONTH_SIZE}),ne=({elRef:t})=>e("input",{name:"expiredYear",ref:t,className:"input-basic",type:"text",required:!0,placeholder:"YY",pattern:"^(2[2-9]|[3-9][0-9])$",maxLength:o.YEAR_SIZE,minLength:o.YEAR_SIZE}),re=({elRef:t})=>e("input",{id:"userName",name:"userName",ref:t,type:"text",defaultValue:"",className:"input-basic",placeholder:"\uCE74\uB4DC\uC5D0 \uD45C\uC2DC\uB41C \uC774\uB984\uACFC \uB3D9\uC77C\uD558\uAC8C \uC785\uB825\uD558\uC138\uC694.",maxLength:o.MAX_NAME_SIZE}),Y=u=>{var r=u,{name:t,elRef:n}=r,a=b(r,["name","elRef"]);return e("input",B({name:t,ref:n,className:"input-basic w-15",required:!0,minLength:o.PASSWORD_SIZE,maxLength:o.PASSWORD_SIZE,type:"password",pattern:"^\\d{1}$"},a))},se=10,O=Array.from({length:se}),ce=({saveCard:t,setCardData:n})=>{const a=C.exports.useMemo(()=>new Map,[]),u=O.map(()=>C.exports.createRef()),r=C.exports.useRef(null),[s,i]=C.exports.useState(O.map(()=>!1)),[D,E]=C.exports.useState(!1),[v,h]=C.exports.useState(0),N=(p,d)=>{a.set(p,d);const m=J(a);m&&n(m)},l=p=>{u.forEach(d=>{d.current&&(d.current.disabled=p)}),E(p)},g=p=>{var R;const d=p.target;if(!(d instanceof HTMLInputElement))return;N(d.name,d.value);const m=u.findIndex(y=>y.current===d),$=G(d);d.setCustomValidity($);const S=d.reportValidity();if(i(y=>{const _=[...y];return _[m]=S,_}),!S)return;if(m===1){l(!0);return}if(m===8&&r.current){r.current.focus();return}m===9&&h(d.value.length);const M=(R=u[m+1])==null?void 0:R.current;M&&M.focus()},A=p=>{N("cardName",p),l(!1);const d=u[1].current,m=u[2].current;d&&m&&m.focus()};return c("form",{onSubmit:t,onChange:g,children:[c("div",{className:"input-container",children:[e("label",{htmlFor:"cardNumber1",className:"input-title",children:"\uCE74\uB4DC \uBC88\uD638"}),c("div",{className:"input-box",children:[e(P,{name:"cardNumber1",elRef:u[0],autoFocus:!0}),s[0]?" - ":"",e(P,{name:"cardNumber2",elRef:u[1]}),s[1]?" - ":"",e(V,{name:"cardNumber3",elRef:u[2]}),s[2]?" - ":"",e(V,{name:"cardNumber4",elRef:u[3]})]})]}),c("div",{className:"input-container",children:[e("label",{htmlFor:"expiredMonth",className:"input-title",children:"\uB9CC\uB8CC\uC77C"}),c("div",{className:"input-box w-50",children:[e(ae,{elRef:u[4]}),s[4]?" / ":"",e(ne,{elRef:u[5]})]})]}),c("div",{className:"input-container",children:[c("label",{htmlFor:"userName",className:"input-title",children:["\uCE74\uB4DC \uC18C\uC720\uC790 \uC774\uB984(\uC120\uD0DD) ",v," / ",o.MAX_NAME_SIZE]}),e(re,{elRef:u[9]})]}),c("div",{className:"input-container",children:[e("label",{htmlFor:"cvc",className:"input-title",children:"\uBCF4\uC548\uCF54\uB4DC(CVC/CVV)"}),e(ue,{elRef:u[6]})]}),c("div",{className:"input-container",children:[e("label",{htmlFor:"pw1",className:"input-title",children:"\uCE74\uB4DC \uBE44\uBC00\uBC88\uD638"}),e(Y,{id:"pw1",name:"pw1",elRef:u[7]}),e(Y,{name:"pw2",elRef:u[8]}),e("input",{className:"input-basic w-15",disabled:!0,value:"*",type:"password"}),e("input",{className:"input-basic w-15",disabled:!0,value:"*",type:"password"})]}),e("div",{className:"button-box",children:e("button",{type:"submit",className:"button",ref:r,children:"\uB2E4\uC74C"})}),D?e(te,{selectCard:A,closeModal:()=>l(!1)}):null]})},ie=({setCards:t,setRoute:n})=>{const[a,u]=C.exports.useState(null);return e(Z,{children:c("div",{className:"page-container",children:[c("h2",{className:"page-title",children:[e("button",{className:"button",onClick:()=>{n({route:"LIST"})},children:"<"})," ","\uCE74\uB4DC \uCD94\uAC00"]}),e(x,{type:"small",cardData:a}),e(ce,{saveCard:()=>{t(i=>(a&&i.add(a),i)),n({route:"ALIAS",payload:{cardData:a}})},setCardData:u})]})})},le=({cards:t,setRoute:n})=>c("div",{className:"page-container flex-column-center",children:[e("div",{className:"flex-center",children:e("h2",{className:"page-title mb-10",children:"\uBCF4\uC720 \uCE74\uB4DC"})}),[...t].map((a,u)=>e(x,{type:"small",cardData:a},u)),e(x,{type:"new",cardData:null,setRoute:n})]}),de=({setRoute:t,setCards:n,payload:{cardData:a}})=>{const u=C.exports.useRef(null);return c("div",{className:"page-container flex-column-center",children:[e("div",{className:"flex-center",children:e("h2",{className:"page-title mb-10",children:"\uCE74\uB4DC\uB4F1\uB85D\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4."})}),e(x,{type:"big",cardData:a}),c("form",{onSubmit:s=>{s.preventDefault(),u.current&&a&&(a.alias=u.current.value),n(i=>(i.add(a),i)),t({route:"LIST"})},children:[e("div",{className:"input-container flex-center w-100",children:e("input",{ref:u,className:"input-underline w-75",type:"text",placeholder:"\uCE74\uB4DC\uC758 \uBCC4\uCE6D\uC744 \uC785\uB825\uD574\uC8FC\uC138\uC694."})}),e("div",{className:"button-box mt-50",children:e("button",{type:"submit",className:"button",children:"\uB2E4\uC74C"})})]})]})},oe={ADD:ie,ALIAS:de,LIST:le},Ce=()=>{const[{route:t,payload:n},a]=C.exports.useState({route:"ADD"}),[u,r]=C.exports.useState(new Set),s=oe[t];return c(Z,{children:[e(s,{setRoute:a,cards:u,setCards:r,payload:n}),e("div",{id:"modalRoot"})]})};k.render(e(q.StrictMode,{children:e(Ce,{})}),document.getElementById("root"));
